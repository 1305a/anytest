import{H as I,r as v,a as d,o as i,c as L,f as c,w as n,g as V,b as g,d as f,x as s,z as w,s as R}from"./index-87d853ec.js";const U={key:0},B={__name:"ImageItem",props:["image","hideLabel","uploadType","folder"],setup(t){const p=t,b=I().params.testId,m=v(null),y=async()=>{var l,a;if(((l=m.value)==null?void 0:l.files.length)===0)return;const r=(a=m.value)==null?void 0:a.files[0];let e=new FormData;e.append("file",r);try{const o=await R.uploadFile(b,e);p.image.imageURL=o.data.data.url}catch(o){console.error(o)}},k=()=>{p.image.imageURL=""};return(r,e)=>{const l=d("el-button"),a=d("el-form-item"),o=d("el-input");return t.image?(i(),L("div",U,[t.image.imageURL?s("",!0):(i(),c(a,{key:0,label:"Название картинки:"},{default:n(()=>[V("input",{type:"file",accept:".png, .jpg, .jpeg, .gif, .svg, .webp",ref_key:"fileInput",ref:m},null,512),g(l,{onClick:e[0]||(e[0]=u=>y())},{default:n(()=>[f("Загрузить")]),_:1})]),_:1})),t.image.imageURL?(i(),c(a,{key:1,label:"Название картинки:"},{default:n(()=>[f(w(t.image.imageURL),1),g(l,{type:"warning",onClick:e[1]||(e[1]=u=>k(r.index))},{default:n(()=>[f("Очистить")]),_:1})]),_:1})):s("",!0),t.hideLabel?s("",!0):(i(),c(a,{key:2,label:"Подпись картинки:"},{default:n(()=>[g(o,{modelValue:t.image.label,"onUpdate:modelValue":e[2]||(e[2]=u=>t.image.label=u)},null,8,["modelValue"])]),_:1}))])):s("",!0)}}};export{B as default};
