import{q as y,r as I,d as u,o as g,c as V,e as f,w as o,a as v,f as s,g as c,j as p,t as w,F as C,s as F}from"./index-b6de5caf.js";const _={__name:"ImageItem",props:["imageData"],setup(a){const d=a,D=y().params.testId,i=I(null),b=async()=>{var l,t;if(((l=i.value)==null?void 0:l.files.length)===0)return;const m=(t=i.value)==null?void 0:t.files[0];let e=new FormData;e.append("file",m);try{const n=await F.uploadFile(D,e);d.imageData.imageURL=n.data.data.url}catch(n){console.error(n)}},k=()=>{d.imageData.image=""};return(m,e)=>{const l=u("el-button"),t=u("el-form-item"),n=u("el-input");return g(),V(C,null,[a.imageData.imageURL?p("",!0):(g(),f(t,{key:0,label:"Название картинки:"},{default:o(()=>[v("input",{type:"file",accept:".png, .jpg, .jpeg, .gif, .svg, .webp",ref_key:"fileInput",ref:i},null,512),s(l,{onClick:e[0]||(e[0]=r=>b())},{default:o(()=>[c("Загрузить")]),_:1})]),_:1})),a.imageData.imageURL?(g(),f(t,{key:1,label:"Название картинки:"},{default:o(()=>[c(w(a.imageData.imageURL),1),s(l,{type:"warning",onClick:e[1]||(e[1]=r=>k(m.index))},{default:o(()=>[c("Очистить")]),_:1})]),_:1})):p("",!0),s(t,{label:"Подпись картинки:"},{default:o(()=>[s(n,{modelValue:a.imageData.label,"onUpdate:modelValue":e[2]||(e[2]=r=>a.imageData.label=r)},null,8,["modelValue"])]),_:1})],64)}}};export{_ as default};
