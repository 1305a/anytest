import{q as y,r as I,d as i,o as r,e as u,w as n,a as V,f,g as d,j as p,t as k,s as w}from"./index-f56a69a3.js";const C={__name:"ImageItem",props:["imageData"],setup(a){const g=a,b=y().params.testId,m=I(null),D=async()=>{var s,t;if(((s=m.value)==null?void 0:s.files.length)===0)return;const l=(t=m.value)==null?void 0:t.files[0];let e=new FormData;e.append("file",l);try{const o=await w.uploadFile(b,e);g.imageData.image=o.data.data.url,console.log(o)}catch(o){console.error(o)}};return(l,e)=>{const s=i("el-button"),t=i("el-form-item"),o=i("el-input"),_=i("el-form");return r(),u(_,{ref:"form",model:l.sizeForm,"label-width":"auto","label-position":l.labelPosition,size:l.size},{default:n(()=>[a.imageData.image?p("",!0):(r(),u(t,{key:0,label:"Название картинки:"},{default:n(()=>[V("input",{type:"file",accept:".png, .jpg, .jpeg, .gif, .svg, .webp",ref_key:"fileInput",ref:m},null,512),f(s,{onClick:e[0]||(e[0]=c=>D())},{default:n(()=>[d("Загрузить")]),_:1})]),_:1})),a.imageData.image?(r(),u(t,{key:1,label:"Название картинки:"},{default:n(()=>[d(k(a.imageData.image),1)]),_:1})):p("",!0),f(t,{label:"Подпись картинки:"},{default:n(()=>[f(o,{modelValue:a.imageData.label,"onUpdate:modelValue":e[1]||(e[1]=c=>a.imageData.label=c)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","label-position","size"])}}};export{C as default};
